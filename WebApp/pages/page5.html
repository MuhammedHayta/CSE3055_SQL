<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

    <!-- Include Select2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0/dist/css/select2.min.css" rel="stylesheet" />

    <title>Your Title Here</title>
</head>

<body>
    <div class="container p-4">
        <div class="row">
            <div class="col-4">
                <form id="guestForm">
                    <div class="mb-3">
                        <label for="guestType" class="form-label">Guest Type:</label>
                        <select id="guestType" name="guestType" class="form-select" onchange="toggleGuestForms()">
                            <option value="existing" selected>Existing</option>
                            <option value="new">New</option>
                        </select>
                    </div>

                    <!-- Dropdown for Existing Guest with Search Box -->
                    <div id="existingGuestDropdown">
                        <div class="mb-3">
                            <label for="existingGuest" class="form-label">Select Existing Guest:</label>
                            <select id="existingGuest" name="existingGuest" class="form-select" style="width: 100%;">
                                <!-- Replace this static data with the actual data from your database -->
                                <option value="1">John Doe - ID: 123456</option>
                                <option value="2">Jane Smith - ID: 789012</option>
                                <option value="3">Bob Johnson - ID: 345678</option>
                                <!-- End of static data -->
                            </select>
                        </div>
                    </div>

                    <!-- New Guest Form -->
                    <div id="newGuestForm" style="display: none;">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="firstName" class="form-label">First Name:</label>
                                <input type="text" id="firstName" name="firstName" class="form-control" required />
                            </div>
                            <div class="col-md-6">
                                <label for="lastName" class="form-label">Last Name:</label>
                                <input type="text" id="lastName" name="lastName" class="form-control" required />
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="birthDate" class="form-label">Birth Date:</label>
                            <input type="date" id="birthDate" name="birthDate" class="form-control" required />
                        </div>

                        <div class="mb-3">
                            <label for="phoneNumber" class="form-label">Phone Number:</label>
                            <input type="tel" id="phoneNumber" name="phoneNumber" class="form-control" required />
                        </div>

                        <div class="mb-3">
                            <label for="identityNumber" class="form-label">Identity Number:</label>
                            <input type="text" id="identityNumber" name="identityNumber" class="form-control" required />
                        </div>

                        <div class="mb-3">
                            <label for="company" class="form-label">Company:</label>
                            <input type="text" id="company" name="company" class="form-control" required />
                        </div>
                    </div>

                    <!-- Guest Movement Information -->
                    <div class="mb-3">
                        <label for="movementInfo" class="form-label">Guest Movement Information:</label>
                        <textarea id="movementInfo" name="movementInfo" class="form-control" rows="3" required></textarea>
                    </div>

                    <!-- Vehicle Details -->
                    <div class="mb-3">
                        <label for="vehicleInfo" class="form-label">Vehicle Information:</label>
                        <input type="text" id="vehicleInfo" name="vehicleInfo" class="form-control" />
                    </div>

                    <!-- Visiting Reason -->
                    <div class="mb-3">
                        <label for="visitingReason" class="form-label">Visiting Reason:</label>
                        <input type="text" id="visitingReason" name="visitingReason" class="form-control" required />
                    </div>

                    <!-- Dropdown for Whom to Visit -->
                    <div class="mb-3">
                        <label for="whomToVisit" class="form-label">Whom to Visit:</label>
                        <select id="whomToVisit" name="whomToVisit" class="form-select" style="width: 100%;">
                            <!-- Replace this static data with the actual data from your database -->
                            <option value="employee1">Employee 1</option>
                            <option value="employee2">Employee 2</option>
                            <option value="employee3">Employee 3</option>
                            <!-- End of static data -->
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
            <div class="col-2"></div>
            <div class="col-4">
                <!-- Other form content -->

                <!-- Start End Movement Section -->
                <div class="mb-3">
                    <label for="endMovementGuest" class="form-label">Select Guest for End Movement:</label>
                    <select id="endMovementGuest" name="endMovementGuest" class="form-select" style="width: 100%;">
                        <!-- Replace this static data with the actual data from your database -->
                        <option value="1">John Doe - ID: 123456</option>
                        <option value="2">Jane Smith - ID: 789012</option>
                        <option value="3">Bob Johnson - ID: 345678</option>
                        <!-- End of static data -->
                    </select>
                </div>

                <button onclick="endMovement()" class="btn btn-danger">End Movement</button>
                <!-- End End Movement Section -->
            </div>
        </div>
    </div>

    <!-- Include jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

    <!-- Include Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0/dist/js/select2.min.js"></script>

    <script>
        $(document).ready(function () {
            // Initialize Select2 for the existingGuest dropdown
            $('#existingGuest').select2({
                placeholder: 'Search for existing guest',
                width: '100%', // Adjust the width to 100%
            });
        });

        function toggleGuestForms() {
            var guestTypeSelect = document.getElementById('guestType');
            var existingGuestDropdown = document.getElementById('existingGuestDropdown');
            var newGuestForm = document.getElementById('newGuestForm');

            if (guestTypeSelect.value === 'existing') {
                existingGuestDropdown.style.display = 'block';
                newGuestForm.style.display = 'none';
            } else if (guestTypeSelect.value === 'new') {
                existingGuestDropdown.style.display = 'none';
                newGuestForm.style.display = 'block';
            }
        }

        function endMovement() {
            // Implement your logic for ending movement here
            alert('End Movement triggered for selected guest.');
        }
    </script>
</body>

</html>
